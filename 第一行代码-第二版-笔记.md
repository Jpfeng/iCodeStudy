# 第一行代码 Android 第2版

<h2 id="index">目录</h2>

- [第1章 开始](#chap1)
- [第2章 Activity](#chap2)
- [第3章 UI布局](#chap3)
- [第4章 Fragment](#chap4)
- [第5章 BroadCast](#chap5)
- [第6章 数据持久化](#chap6)
- [第7章 Content Provider](#chap7)
- [第8章 多媒体](#chap8)
- [第9章 网络](#chap9)
- [第10章 Service](#chap10)
- [第11章 定位](#chap11)
- [第12章 Material Design](#chap12)
- [第13章 高级技巧](#chap13)
- [第14章 酷欧天气](#chap14)
- [第15章 发布应用](#chap15)

------

<h2 id="chap1">第1章 开始</h2>

### Android 系统架构

| ·    | 架构        |
| :--: | ---------- |
| 顶层  | 应用层      |
| ↑    | 应用框架层   |
| ↑    | 系统运行库层 |
| 底层  | Linux内核层 |

### 搭建开发环境

安装 Android Studio → 配置 Android Studio → 创建项目 → 创建模拟器 → 运行项目

### 日志工具

Android 中提供了 Log 工具类 `android.util.Log` ，其中提供了5个方法用来输出不同级别的日志。

```java
Log.v(String tag, String msg); // 对应级别 verbose ，用来打印最琐碎的信息
Log.d(String tag, String msg); // 对应级别 debug ，用来打印调试信息
Log.i(String tag, String msg); // 对应级别 info ，用来打印比较重要的信息
Log.w(String tag, String msg); // 对应级别 warn ，用来打印警告信息
Log.e(String tag, String msg); // 对应级别 error ，用来打印程序错误
```

输出的日志会显示在 logcat 中。logcat 可以通过以下三种方式过滤日志。

- [过滤器](#filter.1)
- [日志级别控制](#filter.2)
- [关键字过滤](#filter.3)

<h4 id="filter.1">过滤器</h4>

有三种过滤器：'show only selected application', 'Firebase', 'No Filters'。除此之外，还可以使用 'Edit Filter Configuration' 自定义过滤器。

<h4 id="filter.2">日志级别控制</h4>

logcat中有5个级别，分别对应 Log 工具类中的5个级别。

<h4 id="filter.3">关键字过滤</h4>

关键字过滤支持正则表达式。

[↑目录](#index)

------

<h2 id="chap2">第2章 Activity</h2>

Activity 是一种可以包含用户界面的组件，主要用于和用户进行交互。

### 使用 Activity

创建 Activity → 创建 Layout 并加载 → 在 Manifest 中注册

### 使用 Toast

Android 中提供了 Toast 组件 `android.widget.Toast` ，可以通过静态方法 `makeText()` 进行创建。

```java
Toast.makeText(Context context, CharSequence text, @Duration int duration);
```

`makeText()` 方法需要3个参数， `context` 为上下文对象， `text` 为 Toast 显示的内容， `duration` 为 Toast 的持续时间，可取值为 `Toast.LENGTH_LONG` 和 `Toast.LENGTH_SHORT` 。

### 使用 Menu

新建 Menu 资源文件 → 重写 `OnCreateOptionsMenu()` 方法，通过 `MenuInflater.inflate()` 方法创建菜单 → 重写 `OnOptionsItemSelected()` 处理选择事件

### 销毁 Activity

使用 Activity 中的 `finish()` 方法。此方法效果等同于按下返回键。

### 使用 Intent

在 Activity 之间跳转需要使用 `android.content.Intent` 类。Intent大致可以分两种：**显式 Intent** 和**隐式 Intent** 。

#### 显式 Intent

显式 Intent 通过 `Intent(Context packageContext, Class<?> cls)` 来进行构造。 `packageContext` 参数传入当前应用的上下文对象， `cls` 参数传入目标 Activity 。然后，我们可以通过 Activity 中的 `startActivity(Intent intent)` 方法来启动目标 Activity。

```java
Intent intent = new Intent(context, TargetActivity.class);
startActivity(intent);
```

#### 隐式 Intent

### Activity 间的数据传递

#### 向下一个 Activity 传递数据

#### 返回数据给上一个 Activity

#### 接收下一个 Activity 返回的数据

### Activity 的生命周期

### Activity 的启动模式

#### standard

#### singleTop

#### singleTask

#### singleInstance

### 最佳实践

#### 判断当前在哪一个 Activity

#### 随时退出程序

#### 最佳启动 Activity 方法

[↑目录](#index)

------

<h2 id="chap3">第3章 UI布局</h2>

[↑目录](#index)

<h2 id="chap4">第4章 Fragment</h2>

[↑目录](#index)

<h2 id="chap5">第5章 BroadCast</h2>

[↑目录](#index)

<h2 id="chap6">第6章 数据持久化</h2>

[↑目录](#index)

<h2 id="chap7">第7章 Content Provider</h2>

[↑目录](#index)

<h2 id="chap8">第8章 多媒体</h2>

[↑目录](#index)

<h2 id="chap9">第9章 网络</h2>

[↑目录](#index)

<h2 id="chap10">第10章 Service</h2>

[↑目录](#index)

<h2 id="chap11">第11章 定位</h2>

[↑目录](#index)

<h2 id="chap12">第12章 Material Design</h2>

[↑目录](#index)

<h2 id="chap13">第13章 高级技巧</h2>

[↑目录](#index)

<h2 id="chap14">第14章 欧酷天气</h2>

[↑目录](#index)

<h2 id="chap15">第15章 发布应用</h2>

[↑目录](#index)
